% Base de Conocimientos de la Republica Mexicana %

% --- HECHOS ---

% Estados
% estado(Nombre)

estado(aguascalientes).
estado(baja_california).
estado(baja_california_sur).
estado(campeche).
estado(chiapas).
estado(chihuahua).
estado(cdmx).
estado(coahuila).
estado(colima).
estado(durango).
estado(guanajuato).
estado(guerrero).
estado(hidalgo).
estado(jalisco).
estado(mexico).
estado(michoacan).
estado(morelos).
estado(nayarit).
estado(nuevo_leon).
estado(oaxaca).
estado(puebla).
estado(queretaro).
estado(quintana_roo).
estado(san_luis_potosi).
estado(sinaloa).
estado(sonora).
estado(tabasco).
estado(tamaulipas).
estado(tlaxcala).
estado(veracruz).
estado(yucatan).
estado(zacatecas).

% Capitales
% capital(estado, capital)

capital(aguascalientes, aguascalientes).
capital(baja_california, mexicali).
capital(baja_california_sur, la_paz).
capital(campeche, san_francisco_de_campeche).
capital(chiapas, tuxtla_gutierrez).
capital(chihuahua, chihuahua).
capital(cdmx, cdmx).
capital(coahuila, saltillo).
capital(colima, colima).
capital(durango, victoria_de_durango).
capital(guanajuato, guanajuato).
capital(guerrero, chilpancingo_de_los_bravo).
capital(hidalgo, pachuca_de_soto).
capital(jalisco, guadalajara).
capital(mexico, toluca_de_lerdo).
capital(michoacan, morelia).
capital(morelos, cuernavaca).
capital(nayarit, tepic).
capital(nuevo_leon, monterrey).
capital(oaxaca, oaxaca_de_juarez).
capital(puebla, puebla_de_zaragoza).
capital(queretaro, santiago_de_queretaro).
capital(quintana_roo, chetumal).
capital(san_luis_potosi, san_luis_potosi).
capital(sinaloa, culiacan_rosales).
capital(sonora, hermosillo).
capital(tabasco, villahermosa).
capital(tamaulipas, ciudad_victoria).
capital(tlaxcala, tlaxcala_de_xicotencatl).
capital(veracruz, xalapa_enriquez).
capital(yucatan, merida).
capital(zacatecas, zacatecas).


% Estados Limitrofes
% limitrofe(Estado1, Estado2)

limitrofe(aguascalientes, jalisco).
limitrofe(aguascalientes, zacatecas).
limitrofe(baja_california, baja_california_sur).
limitrofe(baja_california, sonora).
limitrofe(campeche, quintana_roo).
limitrofe(campeche, tabasco).
limitrofe(campeche, yucatan).
limitrofe(chiapas, oaxaca).
limitrofe(chiapas, tabasco).
limitrofe(chiapas, veracruz).
limitrofe(chihuahua, coahuila).
limitrofe(chihuahua, durango).
limitrofe(chihuahua, sinaloa).
limitrofe(chihuahua, sonora).
limitrofe(cdmx, mexico).
limitrofe(cdmx, morelos).
limitrofe(coahuila, durango).
limitrofe(coahuila, nuevo_leon).
limitrofe(coahuila, san_luis_potosi).
limitrofe(coahuila, zacatecas).
limitrofe(colima, jalisco).
limitrofe(colima, michoacan).
limitrofe(durango, nayarit).
limitrofe(durango, sinaloa).
limitrofe(durango, zacatecas).
limitrofe(guanajuato, jalisco).
limitrofe(guanajuato, michoacan).
limitrofe(guanajuato, queretaro).
limitrofe(guanajuato, san_luis_potosi).
limitrofe(guanajuato, zacatecas).
limitrofe(guerrero, mexico).
limitrofe(guerrero, michoacan).
limitrofe(guerrero, morelos).
limitrofe(guerrero, oaxaca).
limitrofe(guerrero, puebla).
limitrofe(hidalgo, mexico).
limitrofe(hidalgo, puebla).
limitrofe(hidalgo, queretaro).
limitrofe(hidalgo, san_luis_potosi).
limitrofe(hidalgo, tlaxcala).
limitrofe(hidalgo, veracruz).
limitrofe(jalisco, michoacan).
limitrofe(jalisco, nayarit).
limitrofe(jalisco, san_luis_potosi).
limitrofe(jalisco, zacatecas).
limitrofe(mexico, michoacan).
limitrofe(mexico, morelos).
limitrofe(mexico, puebla).
limitrofe(mexico, queretaro).
limitrofe(mexico, tlaxcala).
limitrofe(michoacan, queretaro).
limitrofe(morelos, puebla).
limitrofe(nayarit, sinaloa).
limitrofe(nayarit, zacatecas).
limitrofe(nuevo_leon, san_luis_potosi).
limitrofe(nuevo_leon, tamaulipas).
limitrofe(nuevo_leon, zacatecas).
limitrofe(oaxaca, puebla).
limitrofe(oaxaca, veracruz).
limitrofe(puebla, tlaxcala).
limitrofe(puebla, veracruz).
limitrofe(quintana_roo, yucatan).
limitrofe(san_luis_potosi, tamaulipas).
limitrofe(san_luis_potosi, veracruz).
limitrofe(san_luis_potosi, zacatecas).
limitrofe(sinaloa, sonora).
limitrofe(tabasco, veracruz).
limitrofe(tamaulipas, veracruz).

% Destinos Turisticos
% desTur(Estado, Nombre)

desTur(aguascalientes, feria_de_san_marcos).
desTur(aguascalientes, centro_historico_aguascalientes).
desTur(baja_california, ensenada).
desTur(baja_california, rosarito).
desTur(baja_california, la_bufadora).
desTur(baja_california_sur, cabo_san_lucas).
desTur(baja_california_sur, la_paz).
desTur(baja_california_sur, playa_balandra).
desTur(campeche, ciudad_amurallada_campeche).
desTur(campeche, calakmul).
desTur(chiapas, palenque).
desTur(chiapas, canon_del_sumidero).
desTur(chiapas, san_cristobal_de_las_casas).
desTur(chiapas, cascadas_de_agua_azul).
desTur(chihuahua, barrancas_del_cobre).
desTur(chihuahua, el_chepe).
desTur(chihuahua, dunas_de_samalayuca).
desTur(cdmx, zocalo).
desTur(cdmx, museo_de_antropologia).
desTur(cdmx, coyoacan).
desTur(cdmx, xochimilco).
desTur(coahuila, cuatro_cienegas).
desTur(coahuila, parras_de_la_fuente).
desTur(coahuila, museo_del_desierto).
desTur(colima, manzanillo).
desTur(colima, comala).
desTur(colima, volcan_de_fuego).
desTur(durango, centro_historico_durango).
desTur(durango, paseo_del_viejo_oeste).
desTur(guanajuato, guanajuato_capital).
desTur(guanajuato, san_miguel_de_allende).
desTur(guanajuato, callejon_del_beso).
desTur(guerrero, acapulco).
desTur(guerrero, taxco).
desTur(guerrero, ixtapa_zihuatanejo).
desTur(hidalgo, grutas_de_tolantongo).
desTur(hidalgo, real_del_monte).
desTur(hidalgo, prismas_basalticos).
desTur(jalisco, puerto_vallarta).
desTur(jalisco, guadalajara).
desTur(jalisco, tequila).
desTur(jalisco, lago_de_chapala).
desTur(mexico, piramides_de_teotihuacan).
desTur(mexico, valle_de_bravo).
desTur(mexico, nevado_de_toluca).
desTur(michoacan, morelia).
desTur(michoacan, patzcuaro).
desTur(michoacan, santuario_mariposa_monarca).
desTur(morelos, tepoztlan).
desTur(morelos, cuernavaca).
desTur(morelos, las_estacas).
desTur(nayarit, sayulita).
desTur(nayarit, punta_mita).
desTur(nayarit, islas_marietas).
desTur(nuevo_leon, parque_fundidora).
desTur(nuevo_leon, cola_de_caballo).
desTur(nuevo_leon, cerro_de_la_silla).
desTur(oaxaca, oaxaca_de_juarez).
desTur(oaxaca, monte_alban).
desTur(oaxaca, hierve_el_agua).
desTur(oaxaca, huatulco).
desTur(puebla, centro_historico_puebla).
desTur(puebla, piramide_de_cholula).
desTur(puebla, cuetzalan).
desTur(queretaro, santiago_de_queretaro).
desTur(queretaro, pena_de_bernal).
desTur(queretaro, region_vinos_tequisquiapan).
desTur(quintana_roo, cancun).
desTur(quintana_roo, tulum).
desTur(quintana_roo, playa_del_carmen).
desTur(quintana_roo, cozumel).
desTur(quintana_roo, xcaret).
desTur(san_luis_potosi, huasteca_potosina).
desTur(san_luis_potosi, xilitla).
desTur(san_luis_potosi, real_de_catorce).
desTur(san_luis_potosi, sotano_de_las_golondrinas).
desTur(sinaloa, mazatlan).
desTur(sinaloa, el_fuerte).
desTur(sinaloa, culiacan).
desTur(sonora, san_carlos).
desTur(sonora, puerto_penasco).
desTur(sonora, desierto_de_altar).
desTur(tabasco, parque_museo_la_venta).
desTur(tabasco, comalcalco).
desTur(tamaulipas, playa_miramar).
desTur(tamaulipas, tula).
desTur(tlaxcala, cacaxtla_xochitecatl).
desTur(tlaxcala, huamantla).
desTur(tlaxcala, santuario_luciernagas_nanacamilpa).
desTur(veracruz, el_tajin).
desTur(veracruz, puerto_de_veracruz).
desTur(veracruz, catemaco).
desTur(yucatan, chichen_itza).
desTur(yucatan, merida).
desTur(yucatan, uxmal).
desTur(yucatan, cenote_ik_kil).
desTur(zacatecas, centro_historico_zacatecas).
desTur(zacatecas, cerro_de_la_bufa).
desTur(zacatecas, mina_el_eden).

% Tipo de Superficie
% superficie(estado, tipo de superficie, extension territorial en km2)

superficie(aguascalientes, semidesierto, 5616).
superficie(baja_california, desierto, 71450).
superficie(baja_california_sur, desierto, 73909).
superficie(campeche, selva_humeda, 57507).
superficie(chiapas, selva_humeda, 73311).
superficie(chihuahua, desierto, 247412).
superficie(cdmx, urbano, 1495).
superficie(coahuila, desierto, 151595).
superficie(colima, costa, 5627).
superficie(durango, sierra, 123364).
superficie(guanajuato, matorral, 30607).
superficie(guerrero, costa, 63596).
superficie(hidalgo, sierra, 20813).
superficie(jalisco, selva_seca, 78588).
superficie(mexico, bosque_templado, 22351).
superficie(michoacan, bosque_templado, 58599).
superficie(morelos, selva_seca, 4879).
superficie(nayarit, costa, 27857).
superficie(nuevo_leon, semidesierto, 64156).
superficie(oaxaca, sierra, 93757).
superficie(puebla, volcanico, 34306).
superficie(queretaro, semidesierto, 11699).
superficie(quintana_roo, selva_humeda, 44705).
superficie(san_luis_potosi, huasteca, 61138).
superficie(sinaloa, costa, 57365).
superficie(sonora, desierto, 179355).
superficie(tabasco, selva_humeda, 24731).
superficie(tamaulipas, costa, 80249).
superficie(tlaxcala, bosque_templado, 3997).
superficie(veracruz, costa_humeda, 71820).
superficie(yucatan, selva_baja, 39524).
superficie(zacatecas, semidesierto, 75284).

% Distancia entre capitales
% coordenadas(Capital, Latitud, Longitud)
% La longitud para México es negativa (Oeste).

coordenadas(aguascalientes, 21.88, -102.29).
coordenadas(mexicali, 32.62, -115.45).
coordenadas(la_paz, 24.14, -110.31).
coordenadas(san_francisco_de_campeche, 19.83, -90.53).
coordenadas(tuxtla_gutierrez, 16.75, -93.12).
coordenadas(chihuahua, 28.63, -106.09).
coordenadas(cdmx, 19.43, -99.13).
coordenadas(saltillo, 25.42, -101.00).
coordenadas(colima, 19.24, -103.72).
coordenadas(victoria_de_durango, 24.02, -104.65).
coordenadas(guanajuato, 21.02, -101.26).
coordenadas(chilpancingo_de_los_bravo, 17.55, -99.50).
coordenadas(pachuca_de_soto, 20.12, -98.73).
coordenadas(guadalajara, 20.66, -103.35).
coordenadas(toluca_de_lerdo, 19.28, -99.66).
coordenadas(morelia, 19.70, -101.19).
coordenadas(cuernavaca, 18.92, -99.23).
coordenadas(tepic, 21.51, -104.89).
coordenadas(monterrey, 25.69, -100.32).
coordenadas(oaxaca_de_juarez, 17.06, -96.72).
coordenadas(puebla_de_zaragoza, 19.04, -98.20).
coordenadas(santiago_de_queretaro, 20.60, -100.39).
coordenadas(chetumal, 18.50, -88.30).
coordenadas(san_luis_potosi, 22.15, -100.98).
coordenadas(culiacan_rosales, 24.81, -107.39).
coordenadas(hermosillo, 29.10, -110.98).
coordenadas(villahermosa, 17.99, -92.93).
coordenadas(ciudad_victoria, 23.74, -99.14).
coordenadas(tlaxcala_de_xicotencatl, 19.31, -98.24).
coordenadas(xalapa_enriquez, 19.54, -96.93).
coordenadas(merida, 20.97, -89.62).
coordenadas(zacatecas, 22.77, -102.58).


% --- REGLAS ---

% Capitales y Estados
    % Si C es Capital de E y E es un estado
    esCapital(C, E) :-
        esEstado(E),
        capital(E, C).
    
    %Estados Limitrofes
    esLimitrofe(E1, E2) :- limitrofe(E1, E2); limitrofe(E2, E1).
% Destinos Turisticos
    % Si T es Destino Turistico de E y E es un estado
    esTuristico(T, E) :-
        esEstado(E),
        desTur(E, T).

% Tamanio de los Estados
    % Si A de E es menor a 6000km2
    esPequenio(E) :- 
        superficie(E, _, A),
        A < 10000.

    % Si A de E es mayor a 10000km2
    esGrande(E) :-
        superficie(E, _, A),
        A > 100000.

    % A de E es comparada contra A de los demas estados hasta encontrar el caso donde A2 sea la mas grande
    masGrande(E) :- 
        superficie(E, _, A), \+ (superficie(_, _, A2), A2 > A).
    
    % A de E es comparada contra A de los demas estados hasta encontrar el caso donde A2 sea la mas pequenia
    masPequenio(E) :- 
        superficie(E, _, A), \+ (superficie(_, _, A2), A2 < A).

    % S de E es extraida de los hechos de superficie
    esSuperficie(E, S) :- 
        superficie(E, S, _).

% Distancia Entre Capitales
    % --- REGLA PARA CALCULAR DISTANCIA ENTRE CAPITALES ---

    distanciaCapitales(Capital1, Capital2, Distancia) :-
        % Obtener las coordenadas de ambas capitales
        coordenadas(Capital1, Lat1, Lon1),
        coordenadas(Capital2, Lat2, Lon2),

        % Convertir grados a radianes para los cálculos trigonométricos
        Lat1_rad is Lat1 * pi / 180,
        Lon1_rad is Lon1 * pi / 180,
        Lat2_rad is Lat2 * pi / 180,
        Lon2_rad is Lon2 * pi / 180,

        % Diferencia de latitudes y longitudes
        DeltaLat is Lat2_rad - Lat1_rad,
        DeltaLon is Lon2_rad - Lon1_rad,

        % Fórmula de Haversine (Parte 1)
        A is sin(DeltaLat / 2) * sin(DeltaLat / 2) +
            cos(Lat1_rad) * cos(Lat2_rad) *
            sin(DeltaLon / 2) * sin(DeltaLon / 2),

        % Fórmula de Haversine (Parte 2)
        C is 2 * atan2(sqrt(A), sqrt(1 - A)),

        % Radio de la Tierra en kilómetros
        RadioTierra = 6371,

        % Calcular la distancia final sin redondear
        Distancia_sin_redondear is RadioTierra * C,

        % Redondear al entero más cercano como pediste
        Distancia is round(Distancia_sin_redondear).